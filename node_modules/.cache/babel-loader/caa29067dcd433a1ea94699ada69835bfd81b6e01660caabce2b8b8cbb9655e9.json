{"ast":null,"code":"import React,{useEffect,useMemo,useRef}from\"react\";import logo from\"../assets/GPT.png\";import MessageBubble from\"./messageBubble\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatWindow=_ref=>{let{messages,isTyping}=_ref;const bottomRef=useRef(null);// scroll to bottom on new message\nuseEffect(()=>{if(bottomRef.current){bottomRef.current.scrollIntoView({behavior:\"smooth\"});}},[messages,isTyping]);const hasUserMessage=useMemo(()=>messages.some(m=>m.sender===\"user\"),[messages]);const showEmpty=!messages.length||!hasUserMessage;return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window\",children:[showEmpty&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"empty-logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"empty-text\",children:\"Hare Krishna. Jai Srila Prabhupada. I am Shankhnad \\u2014 how can I help you?\"})]}),messages.filter(m=>hasUserMessage?true:m.sender===\"user\").map((msg,idx)=>/*#__PURE__*/_jsx(MessageBubble,{sender:msg.sender,text:msg.text},idx)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"typing-indicator\",children:\"Bot is typing...\"}),/*#__PURE__*/_jsx(\"div\",{ref:bottomRef})]});};export default ChatWindow;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","logo","MessageBubble","jsx","_jsx","jsxs","_jsxs","ChatWindow","_ref","messages","isTyping","bottomRef","current","scrollIntoView","behavior","hasUserMessage","some","m","sender","showEmpty","length","className","children","src","alt","filter","map","msg","idx","text","ref"],"sources":["D:/KCSGPT-UI/frontend/src/components/chatWindow.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\r\nimport logo from \"../assets/GPT.png\";\r\nimport MessageBubble from \"./messageBubble\";\r\n\r\nconst ChatWindow = ({ messages, isTyping }) => {\r\n  const bottomRef = useRef(null);\r\n\r\n  // scroll to bottom on new message\r\n  useEffect(() => {\r\n    if (bottomRef.current) {\r\n      bottomRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages, isTyping]);\r\n\r\n  const hasUserMessage = useMemo(() => messages.some(m => m.sender === \"user\"), [messages]);\r\n  const showEmpty = !messages.length || !hasUserMessage;\r\n\r\n  return (\r\n    <div className=\"chat-window\">\r\n      {showEmpty && (\r\n        <div className=\"empty-state\">\r\n          <img src={logo} alt=\"Logo\" className=\"empty-logo\" />\r\n          <div className=\"empty-text\">Hare Krishna. Jai Srila Prabhupada. I am Shankhnad â€” how can I help you?</div>\r\n        </div>\r\n      )}\r\n      {messages\r\n        .filter((m) => hasUserMessage ? true : m.sender === \"user\")\r\n        .map((msg, idx) => (\r\n          <MessageBubble key={idx} sender={msg.sender} text={msg.text} />\r\n        ))}\r\n      {isTyping && (\r\n        <div className=\"typing-indicator\">Bot is typing...</div>\r\n      )}\r\n      <div ref={bottomRef}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,MAAM,KAAQ,OAAO,CACzD,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA4B,IAA3B,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAAF,IAAA,CACxC,KAAM,CAAAG,SAAS,CAAGX,MAAM,CAAC,IAAI,CAAC,CAE9B;AACAF,SAAS,CAAC,IAAM,CACd,GAAIa,SAAS,CAACC,OAAO,CAAE,CACrBD,SAAS,CAACC,OAAO,CAACC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC1D,CACF,CAAC,CAAE,CAACL,QAAQ,CAAEC,QAAQ,CAAC,CAAC,CAExB,KAAM,CAAAK,cAAc,CAAGhB,OAAO,CAAC,IAAMU,QAAQ,CAACO,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,MAAM,GAAK,MAAM,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CACzF,KAAM,CAAAU,SAAS,CAAG,CAACV,QAAQ,CAACW,MAAM,EAAI,CAACL,cAAc,CAErD,mBACET,KAAA,QAAKe,SAAS,CAAC,aAAa,CAAAC,QAAA,EACzBH,SAAS,eACRb,KAAA,QAAKe,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BlB,IAAA,QAAKmB,GAAG,CAAEtB,IAAK,CAACuB,GAAG,CAAC,MAAM,CAACH,SAAS,CAAC,YAAY,CAAE,CAAC,cACpDjB,IAAA,QAAKiB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,+EAAwE,CAAK,CAAC,EACvG,CACN,CACAb,QAAQ,CACNgB,MAAM,CAAER,CAAC,EAAKF,cAAc,CAAG,IAAI,CAAGE,CAAC,CAACC,MAAM,GAAK,MAAM,CAAC,CAC1DQ,GAAG,CAAC,CAACC,GAAG,CAAEC,GAAG,gBACZxB,IAAA,CAACF,aAAa,EAAWgB,MAAM,CAAES,GAAG,CAACT,MAAO,CAACW,IAAI,CAAEF,GAAG,CAACE,IAAK,EAAxCD,GAA0C,CAC/D,CAAC,CACHlB,QAAQ,eACPN,IAAA,QAAKiB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,kBAAgB,CAAK,CACxD,cACDlB,IAAA,QAAK0B,GAAG,CAAEnB,SAAU,CAAM,CAAC,EACxB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}